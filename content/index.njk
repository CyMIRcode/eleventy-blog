---
eleventyExcludeFromCollections: true
layout: base.njk
title: 首页
pagination:
  data: collections.posts
  size: 10
  alias: posts
  reverse: true
meta:
  robots:
    value: noindex
---

<div class="postlist pb-8 mt-8 font-light dark:font-extralight">
    {% for post in posts %}
    <div>
        {# 1. 标题部分 #}
        <div class="pb-4 pt-4">
            <a class="text-indigo-900 dark:text-indigo-300 text-xl dark:font-light font-normal postlistheading" href="{{ post.url | url }}">
                {{ post.data.title }}
            </a>
        </div>

        {# 2. 摘要部分：优先显示手动定义的 description #}
        <div class="pb-4 text-gray-900 dark:text-gray-400">
            {% if post.data.description %}
                {{ post.data.description }}
            {% else %}
                {% excerpt post %}
            {% endif %}
        </div>

        {# 3. 日期和阅读时间：确保在循环内部，紧跟每篇文章 #}
        <div class="pb-6 text-sm text-gray-500 dark:text-gray-400 border-b-1 border-gray-800 dark:border-gray-700 border-opacity-20 flex">
            <div class="flex">
                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600.112 600.111" class="h-5 w-4 mr-2">
                    <path d="M537.423,52.563h-59.836V21.92c0-11.83-9.591-21.42-21.42-21.42c-11.83,0-21.42,9.59-21.42,21.42v30.642H165.364V21.92c0-11.83-9.59-21.42-21.42-21.42c-11.83,0-21.42,9.59-21.42,21.42v30.642H62.687c-32.058,0-58.14,26.082-58.14,58.14v430.77c0,32.059,26.082,58.139,58.14,58.139h474.736c32.059,0,58.141-26.08,58.141-58.139v-430.77C595.564,78.645,569.482,52.563,537.423,52.563z M47.387,110.703c0-8.451,6.85-15.3,15.3-15.3h59.837v24.443c0,11.83,9.59,21.42,21.42,21.42s21.42-9.59,21.42-21.42V95.403h269.383v24.443c0,11.83,9.59,21.42,21.42,21.42c11.829,0,21.42-9.59,21.42-21.42V95.403h59.836c8.45,0,15.3,6.85,15.3,15.3v53.856H47.387V110.703z M552.723,541.473c0,8.449-6.85,15.301-15.3,15.301H62.687c-8.45,0-15.3-6.852-15.3-15.301V207.399h505.336V541.473z" fill="currentColor"/>
                </svg>
                {{ post.date | readableDate }}
            </div>
            <div class="readingtime flex" data-words="{{ post.templateContent | striptags | wordcount | formatWords }} words">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 472.615 472.615" class="h-5 w-8 mr-2 ml-12">
                    <path d="M472.615,205.774h-25.344c-12.797-37.99-48.686-65.462-90.935-65.462c-43.224,0-79.837,28.73-91.823,68.087c-7.582-5.011-17.305-8.115-28.211-8.115c-10.903,0-20.624,3.103-28.207,8.114c-11.989-39.357-48.608-68.085-91.831-68.085c-42.249,0-78.135,27.472-90.93,65.462H0v19.692h20.925c-0.403,3.565-0.656,7.175-0.656,10.846c0,52.933,43.063,95.99,95.995,95.99s96-43.058,96-95.99c0-0.552-0.073-1.085-0.083-1.635h0.069c0-6.952,9.88-14.702,24.053-14.702c14.178,0,24.053,7.75,24.053,14.702h0.073c-0.01,0.549-0.083,1.083-0.083,1.635c0,52.933,43.058,95.99,95.99,95.99s96-43.058,96-95.99c0-3.671-0.253-7.281-0.656-10.846h20.935V205.774z M116.264,312.611c-42.072,0-76.303-34.231-76.303-76.298c0-42.077,34.231-76.308,76.303-76.308c42.077,0,76.308,34.231,76.308,76.308C192.572,278.38,158.341,312.611,116.264,312.611z M356.337,312.611c-42.067,0-76.298-34.231-76.298-76.298c0-42.077,34.231-76.308,76.298-76.308c42.077,0,76.308,34.231,76.308,76.308C432.644,278.38,398.413,312.611,356.337,312.611z" fill="currentColor"/>
                </svg>
                {{ post.templateContent | striptags | wordcount | readingTime }}
            </div>
        </div>
    </div>
    {% endfor %}
</div>

{# 分页列表逻辑 #}
<div class="mt-2 mx-8 lg:ml-32">
    <ul class="pagination flex list-none center pb-8 font-light dark:font-extralight">
        {% if pagination.pageNumber > 0 %}
        <li class="mr-3"><a href="{{ pagination.href.first }}" class="block hover:no-underline">&lt;&lt;</a></li>
        <li class="mr-3"><a href="{{ pagination.href.previous }}" class="block hover:no-underline">&lt;</a></li>
        {% endif %}
        
        {% for pageEntry in pagination.pages %}
        <li class="mr-3">
            <div class="leading-pagination{% if pagination.hrefs[loop.index0] === page.url %} active{% endif %}">
                <a href="{{ pagination.hrefs[loop.index0] }}" class="block hover:no-underline">{{ loop.index }}</a>
            </div>
        </li>
        {% endfor %}

        {% if pagination.href.next %}
        <li class="mr-3"><a href="{{ pagination.href.next }}" class="block hover:no-underline">&gt;</a></li>
        <li class="mr-3"><a href="{{ pagination.href.last }}" class="block hover:no-underline">&gt;&gt;</a></li>
        {% endif %}
    </ul>
</div>
